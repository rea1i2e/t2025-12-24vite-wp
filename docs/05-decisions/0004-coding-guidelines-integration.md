# 4. コーディングガイドラインの統合

**ステータス**: 承認済み

## コンテキスト

他のプロジェクト（2026-01-09sy）で実践的に使用されているコーディングガイドラインがあり、その内容をこのテンプレートプロジェクトに取り入れる必要がありました。

既存の`docs/01-development/coding-standards.md`には基本的なコーディング規約が記載されていましたが、以下の点で不足していました：

1. **HTMLのルールが不足**: セマンティックHTMLの構造、クラス名の付け方、画像実装の詳細なルールがなかった
2. **SCSSのルールが簡素**: 論理プロパティの詳細、値の指定方法、プロパティの指定順、レイアウトのベストプラクティスなどが不足していた
3. **PHPのルールが限定的**: 連番の自動採番、WordPress固有のルールなどが不足していた
4. **実践的な判断基準が不足**: `figure`タグの使用基準、`height`の使用に関する判断基準など、実装時に迷いやすい点のガイドラインがなかった

実践的なフィードバックから抽出・整理されたガイドラインを統合することで、より実用的で保守性の高いコーディング規約を提供できると考えました。

## 決定

他のプロジェクトの`docs/coding-guidelines.md`から、以下の内容を既存の`docs/01-development/coding-standards.md`に統合しました：

### HTMLセクションの追加

1. **セマンティックHTMLの基本構造**: セクションの統一的な構造パターン
2. **`em`タグの使い方**: 視覚的に強調されたテキストに限定
3. **クラス名の付け方**: レスポンシブ対応を考慮した命名規則
4. **画像実装の詳細ルール**:
   - 装飾画像は`background-image`で実装
   - `<img>`タグにはクラスを付与しない（親要素経由でスタイル適用）
   - 画像パスの命名規則（`ページ名/セクション名_画像名`）
   - `figure`タグの使用基準と例外

### SCSSセクションの拡張

1. **論理プロパティの詳細**: `margin-block-start`の使用と隣接セレクタの活用
2. **値の指定方法**:
   - 1pxは`rem(1)`ではなく`1px`を直接指定
   - `font-size`は`maxrem()`を使用
   - `letter-spacing`はFigmaの値から`calc()`で計算
3. **プロパティの指定順**: メディアクエリの有無を優先し、カテゴリ別に記述
4. **レイアウトとサイズ**:
   - `height`の使用に関する判断基準と弊害
   - Flexboxでの高さ揃えのベストプラクティス
5. **影の指定**: 角丸がある要素は`filter: drop-shadow()`を使用
6. **カスタムプロパティ**: 汎用的な命名と値全体の登録
7. **kiso.cssを前提とした記述**: 重複を防ぐための注意点
8. **レイアウトクラスの使い方**: `.l-inner`との併用方法
9. **SCSSとPHPのクラス対応**: すべてのクラスをSCSSに記載する

### PHPセクションの拡張

1. **基本記述方法の追加**: コンテンツ部分の自動補完禁止、配列のループ処理
2. **連番の自動採番**: `foreach`ループのインデックスを使用
3. **WordPress固有のルール**: サブクエリのデフォルト値指定を避ける

### その他のルールの追加

1. **コミットメッセージ**: 日本語で生成
2. **デザインデータ取得**: Figmaから取得できない場合はコメントのみ
3. **言語**: 日本語で回答

## 結果

この統合により、以下の効果が得られました：

1. **実践的なガイドラインの提供**: 実装時に迷いやすい点（`figure`タグの使用基準、`height`の使用判断など）に対する明確な判断基準が提供された
2. **保守性の向上**: 画像パスの命名規則、カスタムプロパティの命名規則など、保守性を高めるルールが追加された
3. **一貫性の確保**: セクションの基本構造、プロパティの指定順など、コードの一貫性を保つルールが明確化された
4. **アクセシビリティの向上**: `figure`タグの適切な使用、`maxrem()`の使用など、アクセシビリティを考慮したルールが追加された
5. **WordPressとの互換性**: サブクエリのデフォルト値指定を避けることで、プラグインとの互換性が向上した

既存のコーディング規約の内容は保持しつつ、実践的なガイドラインを追加することで、より包括的で実用的なドキュメントになりました。

## 関連ADR

なし
